@model DailyMart.Models.ChangePasswordViewModel
@{
    ViewBag.Title = "Change Password";
}

<div class="container">
    <div class="row">
        <div class="col-md-8">
            <div class="title-section">
                <h2 class="title">
                    @ViewBag.Title
                </h2>
                <hr />
            </div>

            @using (Html.BeginForm("changepassword", "manage", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
            {
                @Html.AntiForgeryToken()
                <div class="col-md-12">
                    @Html.ValidationSummary("", new { @class = "text-danger" })

                    <div class="form-group">
                        @Html.LabelFor(m => m.OldPassword, new { @class = "col-md-4 control-label" })
                        <div class="col-md-10">
                            @Html.PasswordFor(m => m.OldPassword, new { @id = "oldpass", @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.NewPassword, new { @class = "col-md-4 control-label" })
                        <div class="col-md-10">
                            @Html.PasswordFor(m => m.NewPassword, new { @id = "newpass", @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-md-4 control-label" })
                        <input id="showhide" class="d-inline" title="show password" type="checkbox" />
                        <div class="col-md-10">
                            @Html.PasswordFor(m => m.ConfirmPassword, new { @id = "confirmpass", @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10">
                            <input type="submit" value="Change password" class="themesflat-button bg-accent" />
                        </div>
                    </div>
                </div>
            }
            @section Scripts {
                @Scripts.Render("~/bundles/jqueryval")
                <script>
                    var toogleswitchpass = function () {
                        var passfields = $("#oldpass,#newpass,#confirmpass");
                        $("#showhide").change(function () {
                            if (passfields.attr("type") == "password") {
                                passfields.attr("type", "text");
                            }
                            else {
                                passfields.attr("type", "password");
                            }
                        });
                    };
                    toogleswitchpass();
                </script>
            }
        </div>
            </div>
    </div>
